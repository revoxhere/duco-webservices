<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="canonical" href="https://server.duinocoin.com/" />
    <meta name="robots" content="index, follow">
    <!-- Favicons -->
    <meta name="theme-color" content="#EE5A24">
    <meta name="msapplication-TileColor" content="#da532c">
    <link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon.png?v=3">
    <link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png?v=3">
    <link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png?v=3">
    <link rel="manifest" href="favicons/site.webmanifest?v=3">
    <link rel="mask-icon" href="favicons/safari-pinned-tab.svg?v=3" color="#5bbad5">
    <link rel="shortcut icon" href="favicons/favicon.ico?v=3">
    <!-- Primary Meta Tags -->
    <title>Official Duino-Coin web miner</title>
    <meta name="title" content="Official Duino-Coin web miner">
    <meta name="description" content="Official Duino-Coin online (web) miner powered by JavaScript. Use any internet-enabled device for mining.">
    <meta name="keywords" content="duino, duinocoin, arduino, crypto, mining, blockchain, cryptocurrency">
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://server.duinocoin.com/">
    <meta property="og:title" content="Official Duino-Coin web miner">
    <meta property="og:description" content="Official Duino-Coin online (web) miner powered by JavaScript. Use any internet-enabled device for mining.">
    <meta property="og:image" content="/assets/webminer.png">
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://server.duinocoin.com/">
    <meta property="twitter:title" content="Official Duino-Coin web miner">
    <meta property="twitter:description" content="Official Duino-Coin online (web) miner powered by JavaScript. Use any internet-enabled device for mining.">
    <!-- CSS -->
    <link rel="preload" href="assets/mystyles.css" as="style">
    <link rel="stylesheet" type="text/css" href="assets/mystyles.css">
    <!-- Jquery and FA -->
    <link rel="preload" href="assets/js/fontawesome.js" as="script">
    <script src="assets/js/fontawesome.js"></script>
    <link rel="preload" href="assets/js/jquery.min.js" as="script">
    <script src="assets/js/jquery.min.js"></script>
    <!-- Others -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.8.1/lottie.min.js" as="script">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.8.1/lottie.min.js"></script>
    <link rel="preload" href="https://bernii.github.io/gauge.js/dist/gauge.min.js" as="script">
    <script src="https://bernii.github.io/gauge.js/dist/gauge.min.js"></script>
    <style>
        a>figure {
        transition: 0.2s all;
    }

    a>figure:hover {
        transform: scale(1.05);
    }

    .navbar-item:hover {
        color: #ff9f43;
    }

    .button:hover:not(.workers) {
        transform: scale(1.05);
    }

    #transactionstext1 {
        overflow-wrap: break-word;
    }

    #wavecontainer {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center
    }

    #waveduco {
        height: 12rem;
        color: white;
        z-index: 1;
        position: absolute;
        display: table;
        margin: 0 auto;
        animation: scale 2.73s ease-in-out infinite;
    }

    #devices {
        transition: opacity 0.5s;
    }

    .hide {
        opacity: 0 !important;
    }

    @keyframes scale {
        0% {
            transform: scale(1.3);
        }

        30% {
            transform: scale(0.9);
        }

        85% {
            transform: scale(1.3);
        }

        100% {
            transform: scale(1.3);
        }
    }
    </style>
</head>

<body>
    <div id="pageloader">
        <div id="loader"></div>
    </div>
    <section class="section">
        <div class="container">
            <div class="columns mt-3">
                <div class="column is-narrow">
                    <p class="title is-size-1 has-text-weight-normal">
                        <span class="icon-text">
                            <span id="svgContainer" class="icon is-large"></span>
                        </span>
                        <span class="has-text-weight-bold">
                            Duino-Coin
                        </span>
                        <span>
                            Web Miner
                        </span>
                        <small class="has-text-weight-light">
                            v3
                        </small>
                    </p>
                    <p class="subtitle is-size-6">
                        MIT licensed â€¢ 2019-2021 the Duino-Coin Project
                        <br>This page is
                        <span class="has-text-weight-bold">
                            open-source
                        </span>
                        - you can
                        improve it on 
                        <a href="https://github.com/revoxhere/duco-webservices">
                            GitHub
                        </a>
                    </p>
                </div>
                <div class="column">
                    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <ins class="adsbygoogle has-text-centered" style="display:block" data-ad-client="ca-pub-4670059148424169" data-ad-slot="4687652378" data-ad-format="horizontal" data-full-width-responsive="false"></ins>
                </div>
            </div>
            <p class="notification is-info is-size-6">
                <button class="delete" onclick="this.parentElement.style.display='none'"></button>
                <i class="fa fa-info-circle"></i>
                <b>Tip:</b>
                Make sure you stay on the website during mining - most browsers suspend execution of JavaScript when the tab isn't active
            </p>
            <form>
                <div class="columns">
                    <div class="column">
                        <div class="control has-icons-left">
                            <input class="input is-fullwidth has-icons" type="text" id="usernameinput" placeholder="Duino-Coin Username" name="username">
                            <span class="icon is-left" style="color: #777">
                                <i class="fa fa-user"></i>
                            </span>
                        </div>
                    </div>
                    <div class="column">
                        <div class="control has-icons-left">
                            <input class="input is-fullwidth has-icons" type="text" id="threadsinput" placeholder="Mining threads" name="threads">
                            <span class="icon is-left" style="color: #777">
                                <i class="fa fa-hashtag"></i>
                            </span>
                        </div>
                    </div>
                    <div class="column">
                        <div class="control has-icons-left">
                            <input class="input is-fullwidth has-icons" type="text" id="riginput" placeholder="Rig name (optional)" name="rigid">
                            <span class="icon is-left" style="color: #777">
                                <i class="fa fa-comment"></i>
                            </span>
                        </div>
                    </div>
                    <div class="column">
                        <button type="submit" class="button is-fullwidth" id="minebuttonclass">
                            <span id="minebutton">Start mining</span>
                        </button>
                    </div>
                </div>
            </form>
            <div class="columns is-multiline">
                <div class="column">
                    <div class="box" style="height:100%">
                        <p class="heading has-text-centered is-size-6">
                            <i class="fa has-text-danger fa-bolt"></i>
                            HASHRATE
                        </p>
                        <p class="has-text-centered">
                            <canvas id="gauge"></canvas>
                            <p class="title has-text-centered" id="hashrate">
                                0
                            </p>
                            <p class="subtitle has-text-centered mb-0">
                                Calculations per second
                            </p>
                        </p>
                    </div>
                </div>
                <div class="column is-one-third">
                    <div class="columns is-multiline">
                        <div class="column is-full">
                            <div class="box" style="height:100%">
                                <p class="heading has-text-centered is-size-6">
                                    <i class="fa has-text-success fa-check"></i>
                                    CORRECT SHARES (<strong id="sharesperc">0%</strong>)
                                </p>
                                <p class="title has-text-centered" id="shares">
                                    0/0
                                </p>
                            </div>
                        </div>
                        <div class="column is-full">
                            <div class="box" style="height:100%">
                                <p class="heading has-text-centered mb-3 is-size-6">
                                    <i class="fa has-text-warning-dark fa-list"></i>
                                    MINER LOG
                                </p>
                                <div id="minerlog-scroll-down" style="overflow-y: scroll; word-wrap: break-word; resize: vertical; height: 5rem">
                                    <span id="minerlog">
                                        Awaiting input<br>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="box" style="height:100%">
                        <p class="heading has-text-centered is-size-6 mb-3">
                            <i class="far has-text-info fa-chart-bar"></i>
                            Thread performance
                        </p>
                        <div class="columns is-mobile is-multiline" id="stats-per-cpu">
                            <p class="title has-text-centered m-5 is-size-5">
                                Start mining to see thread hashrates
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="buttons">
                <a href="https://wallet.duinocoin.com" class="button">
                    <img class="icon is-small" src="https://github.com/revoxhere/duino-coin/blob/master/Resources/duco.png?raw=true">
                    <span>Duino-Coin Web Wallet</span>
                </a>
                <a href="https://github.com/revoxhere/duco-webservices" class="button">
                    <i class="fab fa-fw fa-github icon is-small"></i>&nbsp;
                    <span>GitHub</span>
                </a>
                <p disabled class="button is-size-6 has-text-right">
                    <span>
                        <strong data-chronometer>
                            00:00:00
                        </strong>
                        elapsed
                    </span>
                </p>
            </div>
        </div>
    </section>
</body>

</html>
<script>
const pageloader = document.getElementById('loader');
bodymovin.loadAnimation({
    wrapper: pageloader,
    animType: 'svg',
    autoplay: true,
    loop: true,
    path: 'assets/loader.json'
});
// Get the username, rigid and amount of threads from the url parameters if provided
let url = new URL(window.location);
let username = url.searchParams.get("username");
let rigid = url.searchParams.get("rigid");
let threads = url.searchParams.get("threads");
let hashrate_text = document.getElementById("hashrate");

let gauges = [];

let opts = {
    angle: 0,
    lineWidth: 0.1,
    radiusScale: 1,
    pointer: {
        length: 0.6,
        strokeWidth: 0.05,
        color: '#57606f'
    },
    limitMax: false,
    limitMin: false,
    colorStart: '#EF7A44',
    strokeColor: '#747d8c',
    highDpiSupport: true
};

let mini_opts = {
    angle: -0.5,
    lineWidth: 0.1,
    radiusScale: 1,
    pointer: {
        length: 0,
        strokeWidth: 0,
        color: '#57606f'
    },
    limitMax: false,
    limitMin: false,
    colorStart: '#7bed9f',
    strokeColor: '#747d8c',
    highDpiSupport: false,
};

gauge = new Gauge(document.getElementById("gauge")).setOptions(opts);
gauge.setMinValue(0);
gauge.animationSpeed = 40;
gauge.set(0);

(adsbygoogle = window.adsbygoogle || []).push({});


if (rigid === "") {
    rigid = "None";
}

let detected_threads = navigator.hardwareConcurrency;
if (threads === "") {
    threads = detected_threads;
}

minerlog = function(message) {
    $('#minerlog').append(message);
}


if (username != null && username != "" && username != undefined) {
    document.getElementById("minebutton").innerHTML = "<i class='fa fa-cogs fa-fw'></i>&nbsp;Mining started";
    document.getElementById("minebuttonclass").disabled = true;
    document.getElementById("usernameinput").value = username;
    document.getElementById("riginput").value = rigid;
    document.getElementById("threadsinput").value = threads;

    gauge.maxValue = threads * 150000;

    function getTime() {
        let date = new Date();
        let h = date.getHours();
        let m = date.getMinutes();
        let s = date.getSeconds();

        h = (h < 10) ? "0" + h : h;
        m = (m < 10) ? "0" + m : m;
        s = (s < 10) ? "0" + s : s;

        return h + ":" + m + ":" + s;
    }

    let wallet_id = Math.floor(Math.random() * 2811);
    let workerVer = 0;
    let sharesCorrect = 0;
    let totalShares = 0;

    let hours = `00`,
        minutes = `00`,
        seconds = `00`;

    let chronometer = setInterval(function() {
        seconds++
        if (seconds < 10) { seconds = `0` + seconds }
        if (seconds > 59) {
            seconds = `00`;
            minutes++;
            if (minutes < 10) { minutes = `0` + minutes }
        }
        if (minutes > 59) {
            minutes = `00`;
            hours++;
            if (hours < 10) { hours = `0` + hours }
        }

        document.querySelector("[data-chronometer]").innerHTML = `${hours}:${minutes}:${seconds}`;
    }, 1000);

    if (threads < 1) {
        threads = 1;
    }

    if (threads > 8) {
        threads = 8;
    }

    //makes sure the user doesn't give the miner more threads then it actually has
    if (threads > detected_threads) {
        minerlog(`${getTime()} | ` + "You gave up more threads then you have. You are now using " + detected_threads + " threads instead of " + threads + ".<br><br>");
        console.log(`${getTime()} | ` + "You gave up more threads then you have. You are now using " + detected_threads + " threads instead of " + threads + ".");
        threads = detected_threads;
    }

    //sets the hashrate to 0
    let hashrates = []
    for (let i = 0; i < threads; i++)
        hashrates[i] = 0;

    //inits the stats per cpu system
    document.getElementById("stats-per-cpu").innerHTML = "";
    for (let i = 0; i < threads; i++) {
        $("#stats-per-cpu").append(
            `<div class="column" style="min-width:10rem;">
                <div class="columns is-mobile">
                    <div class="column is-narrow">
                        <p class="has-text-centered chartpos">
                            <canvas id="CPU${i}-gauge" height="50rem" width="42rem"></canvas>
                        </p>
                    </div>
                    <div class="column">
                        <p class="title is-size-5" id="CPU${i}-hashrate">
                            0 kH/s
                        </p>
                        <p class="subtitle is-size-6">
                            Thread ${i+1}
                        </p>
                    </div>
                </div>
            </div>`
        );
        gauges[i] = new Gauge(document.getElementById(`CPU${i}-gauge`)).setOptions(mini_opts);
        gauges[i].maxValue = 150000;
        gauges[i].setMinValue(0);
        gauges[i].animationSpeed = 40;
        gauges[i].set(0);
    }


    //makes threads amount of workers (so if threads is 6, it will make 6 workers)
    for (let workersAmount = 0; workersAmount < threads; workersAmount++) {
        let socketWorker = new Worker("js/webminer/worker.js"); //creates the worker
        socketWorker.postMessage('Start,' + username + "," + rigid + "," + workerVer + "," + wallet_id); //passes the start command, username, rigid and worker version to the worker
        workerVer++; //adds one to workerVer, so you will get CPU0, CPU1, CPU2 etc.

        //executes when the worker sends a message
        socketWorker.onmessage = function(event) {
            const data = event.data.split(","); //splits the data so you can use data[1] etc.
            if (data[0] == "UpdateLog") {
                minerlog(data[1]);
                document.getElementById("minerlog-scroll-down").scrollTop = document.getElementById("minerlog-scroll-down").scrollHeight;

            } else if (data[0] == "UpdateHashrate") {
                //total hashrate
                hashrates[data[3]] = parseFloat(data[2]).toFixed(2);
                let finalHashrate = 0;
                for (let i = 0; i < hashrates.length; i++)
                    finalHashrate = finalHashrate + eval(hashrates[i]);
                gauge.set(finalHashrate);

                if (parseFloat(finalHashrate) < 1000) {
                    hashrate_text.innerHTML = parseFloat(finalHashrate).toFixed(2);
                }
                if (parseFloat(finalHashrate) > 1000) {
                    hashrate_text.innerHTML = parseFloat(finalHashrate / 1000).toFixed(2) + " k";
                }
                if (parseFloat(finalHashrate) > 1000000) {
                    hashrate_text.innerHTML = parseFloat(finalHashrate / 1000000).toFixed(2) + " M";
                }


                //personal hashrate
                if (data[2] < 1000) {
                    document.getElementById("CPU" + data[3] + "-hashrate").innerHTML = parseFloat(data[2]).toFixed(2) + " H/s";
                }
                if (data[2] > 1000) {
                    document.getElementById("CPU" + data[3] + "-hashrate").innerHTML = parseFloat(data[2] / 1000).toFixed(2) + " kH/s";
                }
                if (data[2] > 1000000) {
                    document.getElementById("CPU" + data[3] + "-hashrate").innerHTML = parseFloat(data[2] / 1000000).toFixed(2) + " MH/s";
                }
                gauges[data[3]].set(data[2]);

                //personal timedifference
                document.getElementById("CPU" + data[3] + "-time").innerHTML = " Time: " + parseFloat(data[1]).toFixed(2) + "s";
            } else if (data[0] == "UpdateDiff") {
                document.getElementById("CPU" + data[2] + "-diff").innerHTML = " Difficulty: " + parseFloat(data[1]);
            } else if (data[0] == "GoodShare") {
                totalShares++;
                sharesCorrect++;
                document.getElementById("shares").innerHTML = sharesCorrect + "/" + totalShares;
                document.getElementById("sharesperc").innerHTML = (sharesCorrect / totalShares * 100).toFixed(0) + "%";
            } else if (data[0] == "BadShare") {
                totalShares++;
                document.getElementById("shares").innerHTML = sharesCorrect + "/" + totalShares;
                document.getElementById("sharesperc").innerHTML = (sharesCorrect / totalShares * 100).toFixed(0) + "%";
            } else if (data[0] == "Error") {
                document.getElementById("minebutton").innerHTML = "<i class='fa fa-times fa-fw'></i>&nbsp;Incorrect username";
                document.getElementById("minebuttonclass").style = "background-color: #c0392b;";
            }
        }
    }
}


/* On page loaded */
$(window).on('load', function() {
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
    if ($navbarBurgers.length > 0) {
        $navbarBurgers.forEach(el => {
            el.addEventListener('click', () => {
                const target = el.dataset.target;
                const $target = document.getElementById(target);
                el.classList.toggle('is-active');
                $target.classList.toggle('is-active');
            });
        });
    }
    $("#pageloader").fadeOut();

    var svgContainer = document.getElementById('svgContainer');
    var animItem = bodymovin.loadAnimation({
        wrapper: svgContainer,
        animType: 'svg',
        autoplay: true,
        loop: false,
        path: 'assets/pick.json'
    });
});
</script>
